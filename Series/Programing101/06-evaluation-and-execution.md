# Evaluation and execution

## Script / Outline (75 mins) ([video](https://www.youtube.com/watch?v=T0ZqwChq13Y&list=PL8XxoCaL3dBiJ_djQKKbbI4uN081F7Sgw&index=8&t=0s))
1. Expressions
   1. Operations, revisited: arithmetic, relational and logical
   2. Selection expressions: `if` and `when`
   3. Composing expressions
2. Instructions
   1. Sequence
   2. Execution control
      1. Selection
      2. Repetition (to be addressed later)
3. Mental models for execution (introduction)
   1. Substitution model: data flow
   2. Execution control: state machine

## Exercises (20 mins) - ([solution](solutions/06-evaluation-and-execution.md))

1. Consider the following program: (temperature values are expressed in degrees Celsius)
   
    ```kotlin
    import kotlin.random.Random

    fun main() {
        val bodyTemperature = Random.nextDouble(31.0, 42.0)
        print("Your temperature is ${bodyTemperature} --> ")
        if (bodyTemperature >= 37.5) println("You may have a fever")
        else println("You have not a fever")
    }
    ```   
   1. Knowing that the expression `Random.nextDouble(31.0, 42.0)` produces a random number in the interval `[31.0, 42.0[` each time it's evaluated, what is the result of the program's executions?

      **Suggestion**: Try it =)

   2. Change the program so that the value of `bodyTemperature` has, at most, one decimal place. For example, if the value generated by `Random.nextDouble(31.0, 42.0)` is `34.57017711136368`, the value stored in the variable should be `34.5`.

      **Hints**: Converting a `Double` value to an `Int` produces the original value with its decimal part discarded. For example, the conversion of `10.6` to an `Int` evaluates to `10`. Also note that the convertion from `Double` to `Int` is made by the expression `someDoubleValue.toInt()`, where `someDoubleValue` can either be a variable of type `Double` or any other expression whose result is of that type.

   3. Rewrite the program so that `print`, or its variant `println` are only used once. The new version of the program must have the same behaviour, in particular, the displayed messages should be identical.
      
      **Hint**: Remember that, in Kotlin, `if else` is an expresssion and therefore its evaluation produces a result.

   4. Change the program so that it displays the following messages:
      * `Your temperature is ... : you are ok`, if the temperature is between `36.0` and `37.5`
      * `Your temperature is ... : you have a fever`, if the temperature is between `37.5` and `41.0`
      * `Your temperature is ... : you have hypothermia`, if the temperature is between `32.0` and `35.0`
      * `Your temperature is ... : get a doctor, now!`, if the temperature is over `41.0` or below `32.0`
      
      The program can only use `print`, or its variant `println`, once.
      
      **Suggestion**: Use the `when` expression.
  